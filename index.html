<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Expense Tracker</title>

<!-- iOS App Icons -->
<link rel="apple-touch-icon" sizes="180x180" href="icon.jpg">
<link rel="apple-touch-icon" sizes="152x152" href="icon.jpg">
<link rel="apple-touch-icon" sizes="120x120" href="icon.jpg">
<link rel="icon" type="image/jpeg" href="icon.jpg">

<!-- PWA Settings -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Expense Tracker">

<!-- Theme Colors -->
<meta name="theme-color" content="#000000">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="icon.jpg">

<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
*{margin:0;padding:0;box-sizing:border-box}.app-header{position:fixed;top:0;left:0;right:0;background:linear-gradient(135deg,rgba(10,10,10,.95) 0%,rgba(0,0,0,.98) 100%);backdrop-filter:blur(20px) saturate(180%);-webkit-backdrop-filter:blur(20px) saturate(180%);border-bottom:1px solid rgba(255,255,255,.1);padding:16px 20px;display:flex;align-items:center;justify-content:center;gap:16px;z-index:1001;box-shadow:0 4px 24px rgba(0,0,0,.5)}.app-logo{font-size:2.5rem;animation:float 3s ease-in-out infinite;filter:drop-shadow(0 0 20px rgba(251,191,36,.4))}.app-title{font-size:1.8rem;font-weight:800;background:linear-gradient(135deg,#fbbf24,#f59e0b,#fbbf24);background-size:200% 200%;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:-1px;animation:gradient-shift 3s ease infinite}@keyframes gradient-shift{0%,100%{background-position:0% 50%}50%{background-position:100% 50%}}@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}body{font-family:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:#000;background-image:radial-gradient(at 0% 0%,rgba(30,64,175,.15) 0px,transparent 50%),radial-gradient(at 100% 0%,rgba(139,92,246,.15) 0px,transparent 50%),radial-gradient(at 100% 100%,rgba(16,185,129,.1) 0px,transparent 50%);min-height:100vh;padding:100px 20px 60px 20px;display:flex;align-items:center;justify-content:center;color:#fff;position:relative;overflow-x:hidden}body::before{content:'';position:fixed;top:0;left:0;right:0;bottom:0;background:linear-gradient(45deg,transparent 48%,rgba(255,255,255,.01) 50%,transparent 52%),linear-gradient(-45deg,transparent 48%,rgba(255,255,255,.01) 50%,transparent 52%);background-size:60px 60px;pointer-events:none;opacity:.3}.container{max-width:1600px;width:100%;display:grid;grid-template-columns:1fr 1fr;gap:32px;position:relative;z-index:1}.sync-bar{grid-column:1/-1;background:rgba(255,255,255,.03);backdrop-filter:blur(30px) saturate(180%);-webkit-backdrop-filter:blur(30px) saturate(180%);border:1px solid rgba(255,255,255,.08);border-radius:20px;padding:20px 32px;display:flex;align-items:center;justify-content:space-between;box-shadow:0 8px 32px rgba(0,0,0,.3),inset 0 1px 1px rgba(255,255,255,.05)}.sync-info{display:flex;align-items:center;gap:16px}.sync-icon{font-size:1.5rem;animation:pulse 2s ease-in-out infinite}@keyframes pulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.7;transform:scale(1.1)}}.sync-text{display:flex;flex-direction:column;gap:4px}.sync-label{font-size:.875rem;color:rgba(255,255,255,.5);font-weight:500}.sync-status{font-size:1rem;color:#10b981;font-weight:600}.sync-actions{display:flex;gap:12px}.sync-btn{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.1);padding:10px 20px;border-radius:12px;color:#fff;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .3s;display:flex;align-items:center;gap:8px}.sync-btn:hover{background:rgba(255,255,255,.1);border-color:rgba(251,191,36,.3);transform:translateY(-2px);box-shadow:0 4px 12px rgba(251,191,36,.2)}.sync-btn:active{transform:translateY(0)}.pane{background:rgba(255,255,255,.03);backdrop-filter:blur(30px) saturate(180%);-webkit-backdrop-filter:blur(30px) saturate(180%);border-radius:24px;padding:32px;border:1px solid rgba(255,255,255,.08);box-shadow:0 8px 32px rgba(0,0,0,.3),inset 0 1px 1px rgba(255,255,255,.05);display:flex;flex-direction:column;gap:24px;min-height:600px;position:relative;overflow:hidden}.pane::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(251,191,36,.3),transparent)}.summary-section{display:grid;grid-template-columns:repeat(2,1fr);gap:16px;padding:20px;background:rgba(0,0,0,.2);border-radius:16px;border:1px solid rgba(255,255,255,.05)}.summary-item{display:flex;flex-direction:column;gap:6px}.summary-item.full-width{grid-column:1/-1;padding-top:16px;border-top:1px solid rgba(255,255,255,.1)}.summary-label{font-size:.875rem;color:rgba(255,255,255,.5);font-weight:500}.summary-value{font-size:1.5rem;font-weight:700;color:#fff}.summary-value.positive{color:#10b981}.summary-value.negative{color:#ef4444}.summary-value.info{color:#fbbf24}.input-group{display:flex;flex-direction:column;gap:8px}.input-label{font-size:.875rem;color:rgba(255,255,255,.7);font-weight:600;letter-spacing:.5px}.input-hint{font-size:.75rem;color:rgba(255,255,255,.4);font-style:italic;margin-top:-4px}input[type="number"],input[type="text"]{width:100%;padding:14px 16px;background:rgba(0,0,0,.3);border:1px solid rgba(255,255,255,.1);border-radius:12px;color:#fff;font-size:1rem;font-weight:500;transition:all .3s;font-family:inherit}input[type="number"]:focus,input[type="text"]:focus{outline:none;border-color:rgba(251,191,36,.5);background:rgba(0,0,0,.4);box-shadow:0 0 0 3px rgba(251,191,36,.1),0 4px 12px rgba(0,0,0,.2)}input[type="number"]::placeholder,input[type="text"]::placeholder{color:rgba(255,255,255,.3)}.btn{width:100%;padding:14px 24px;background:linear-gradient(135deg,#fbbf24,#f59e0b);border:none;border-radius:12px;color:#000;font-size:1rem;font-weight:700;cursor:pointer;transition:all .3s;box-shadow:0 4px 12px rgba(251,191,36,.3);text-transform:uppercase;letter-spacing:.5px}.btn:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(251,191,36,.4)}.btn:active{transform:translateY(0)}.quick-add-section{display:flex;flex-direction:column;gap:12px}.quick-add-label{font-size:.875rem;color:rgba(255,255,255,.6);font-weight:600}.quick-add-buttons{display:flex;flex-wrap:wrap;gap:8px}.quick-btn{padding:8px 16px;background:rgba(139,92,246,.2);border:1px solid rgba(139,92,246,.3);border-radius:8px;color:#c4b5fd;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .3s}.quick-btn:hover{background:rgba(139,92,246,.3);border-color:rgba(139,92,246,.5);transform:translateY(-2px)}.expenses-list{display:flex;flex-direction:column;gap:12px;max-height:400px;overflow-y:auto;padding-right:8px}.expenses-list::-webkit-scrollbar{width:6px}.expenses-list::-webkit-scrollbar-track{background:rgba(255,255,255,.05);border-radius:10px}.expenses-list::-webkit-scrollbar-thumb{background:rgba(251,191,36,.3);border-radius:10px}.expenses-list::-webkit-scrollbar-thumb:hover{background:rgba(251,191,36,.5)}.expense-item{display:flex;justify-content:space-between;align-items:center;padding:16px;background:rgba(0,0,0,.3);border:1px solid rgba(255,255,255,.08);border-radius:12px;transition:all .3s}.expense-item:hover{background:rgba(0,0,0,.4);border-color:rgba(255,255,255,.15);transform:translateX(4px)}.expense-details{display:flex;flex-direction:column;gap:4px}.expense-category{font-size:.875rem;color:rgba(255,255,255,.9);font-weight:600}.expense-date{font-size:.75rem;color:rgba(255,255,255,.4)}.expense-amount{font-size:1.125rem;font-weight:700;color:#ef4444}.delete-btn{padding:8px 12px;background:rgba(239,68,68,.2);border:1px solid rgba(239,68,68,.3);border-radius:8px;color:#fca5a5;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .3s}.delete-btn:hover{background:rgba(239,68,68,.3);border-color:rgba(239,68,68,.5);transform:scale(1.05)}@media(max-width:1024px){.container{grid-template-columns:1fr;gap:24px}.sync-bar{flex-direction:column;gap:16px;text-align:center}.sync-actions{width:100%;justify-content:center}}@media(max-width:640px){body{padding:90px 16px 50px 16px}.app-title{font-size:1.4rem}.app-logo{font-size:2rem}.pane{padding:24px;gap:20px}.summary-section{grid-template-columns:1fr;gap:12px}.summary-value{font-size:1.25rem}}
</style>
</head>
<body>

<div class="app-header">
  <div class="app-logo">üí∞</div>
  <div class="app-title">Expense Tracker</div>
</div>

<div class="container">
  
  <div class="sync-bar">
    <div class="sync-info">
      <div class="sync-icon">‚òÅÔ∏è</div>
      <div class="sync-text">
        <div class="sync-label">Status</div>
        <div class="sync-status">Synced Locally</div>
      </div>
    </div>
    <div class="sync-actions">
      <button class="sync-btn" onclick="exportData()">üì• Export</button>
      <button class="sync-btn" onclick="importData()">üì§ Import</button>
      <button class="sync-btn" onclick="resetApp()">üîÑ Reset</button>
    </div>
  </div>

  <div class="pane left-pane">
    <div class="summary-section">
      <div class="summary-item">
        <div class="summary-label">Salary</div>
        <div class="summary-value" id="salary-display">$0</div>
      </div>
      <div class="summary-item">
        <div class="summary-label">Other Income</div>
        <div class="summary-value positive" id="other-income-display">$0</div>
      </div>
      <div class="summary-item">
        <div class="summary-label">Total Income</div>
        <div class="summary-value positive" id="total-income-display">$0</div>
      </div>
      <div class="summary-item">
        <div class="summary-label">Expenses</div>
        <div class="summary-value" id="expenses-display">$0</div>
      </div>
      <div class="summary-item">
        <div class="summary-label">This Period Savings</div>
        <div class="summary-value" id="savings-display">$0</div>
      </div>
      <div class="summary-item">
        <div class="summary-label">Previous Balance</div>
        <div class="summary-value info" id="carry-forward-display">$0</div>
      </div>
      <div class="summary-item full-width">
        <div class="summary-label">Total Cumulative Savings</div>
        <div class="summary-value" id="total-savings-display">$0</div>
      </div>
    </div>

    <div class="input-group">
      <label class="input-label">üíµ Salary</label>
      <input type="number" id="salary-input" placeholder="Enter salary" step="0.01">
    </div>

    <div class="input-group">
      <label class="input-label">üí∞ Other Income</label>
      <input type="number" id="other-income-input" placeholder="0.00" step="0.01" min="0">
      <div class="input-hint">Side projects, dividends, freelance, etc.</div>
    </div>

    <div class="input-group">
      <label class="input-label">Category</label>
      <input type="text" id="category-input" placeholder="e.g., Groceries, Rent">
    </div>

    <div class="input-group">
      <label class="input-label">Amount</label>
      <input type="number" id="amount-input" placeholder="0.00" step="0.01">
    </div>

    <button class="btn" onclick="addExpense()">Add Expense</button>

    <div class="quick-add-section">
      <div class="quick-add-label">Quick Add:</div>
      <div class="quick-add-buttons" id="quick-add-buttons"></div>
    </div>

    <div class="expenses-list" id="expenses-list"></div>
  </div>

  <div class="pane right-pane">
    <h2 style="font-size: 1.5rem; font-weight: 700;">Period Overview</h2>
    <div id="period-details"></div>
  </div>

</div>

<script>
let expenses = [];
let salary = 0;
let otherIncome = 0;
let carryForward = 0;

// Initialize
function init() {
  loadFromLocalStorage();
  setupQuickButtons();
  updateDisplay();
  
  // Add event listeners
  document.getElementById('salary-input').addEventListener('input', handleSalaryChange);
  document.getElementById('other-income-input').addEventListener('input', handleOtherIncomeChange);
}

function handleSalaryChange(e) {
  salary = parseFloat(e.target.value) || 0;
  saveToLocalStorage();
  updateDisplay();
}

function handleOtherIncomeChange(e) {
  otherIncome = parseFloat(e.target.value) || 0;
  saveToLocalStorage();
  updateDisplay();
}

function addExpense() {
  const category = document.getElementById('category-input').value.trim();
  const amount = parseFloat(document.getElementById('amount-input').value);
  
  if (!category || !amount || amount <= 0) {
    alert('Please enter valid category and amount');
    return;
  }
  
  const expense = {
    id: Date.now(),
    category,
    amount,
    date: new Date().toISOString()
  };
  
  expenses.push(expense);
  
  document.getElementById('category-input').value = '';
  document.getElementById('amount-input').value = '';
  
  saveToLocalStorage();
  updateDisplay();
}

function deleteExpense(id) {
  expenses = expenses.filter(e => e.id !== id);
  saveToLocalStorage();
  updateDisplay();
}

function setupQuickButtons() {
  const quickCategories = ['Groceries', 'Gas', 'Coffee', 'Dining', 'Shopping'];
  const container = document.getElementById('quick-add-buttons');
  
  quickCategories.forEach(cat => {
    const btn = document.createElement('button');
    btn.className = 'quick-btn';
    btn.textContent = cat;
    btn.onclick = () => {
      document.getElementById('category-input').value = cat;
      document.getElementById('amount-input').focus();
    };
    container.appendChild(btn);
  });
}

function updateDisplay() {
  const totalIncome = salary + otherIncome;
  const totalExpenses = expenses.reduce((sum, e) => sum + e.amount, 0);
  const periodSavings = totalIncome - totalExpenses;
  const totalSavings = carryForward + periodSavings;
  
  // Update summary displays
  document.getElementById('salary-display').textContent = formatCurrency(salary);
  document.getElementById('other-income-display').textContent = formatCurrency(otherIncome);
  document.getElementById('total-income-display').textContent = formatCurrency(totalIncome);
  document.getElementById('expenses-display').textContent = formatCurrency(totalExpenses);
  document.getElementById('savings-display').textContent = formatCurrency(periodSavings);
  document.getElementById('savings-display').className = 'summary-value ' + (periodSavings >= 0 ? 'positive' : 'negative');
  document.getElementById('carry-forward-display').textContent = formatCurrency(carryForward);
  document.getElementById('total-savings-display').textContent = formatCurrency(totalSavings);
  document.getElementById('total-savings-display').className = 'summary-value ' + (totalSavings >= 0 ? 'positive' : 'negative');
  
  // Update expenses list
  const expensesList = document.getElementById('expenses-list');
  expensesList.innerHTML = '';
  
  expenses.forEach(expense => {
    const item = document.createElement('div');
    item.className = 'expense-item';
    item.innerHTML = `
      <div class="expense-details">
        <div class="expense-category">${expense.category}</div>
        <div class="expense-date">${new Date(expense.date).toLocaleDateString()}</div>
      </div>
      <div style="display: flex; align-items: center; gap: 12px;">
        <div class="expense-amount">${formatCurrency(expense.amount)}</div>
        <button class="delete-btn" onclick="deleteExpense(${expense.id})">Delete</button>
      </div>
    `;
    expensesList.appendChild(item);
  });
}

function formatCurrency(amount) {
  return '$' + amount.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ',');
}

function saveToLocalStorage() {
  localStorage.setItem('expenses', JSON.stringify(expenses));
  localStorage.setItem('salary', salary);
  localStorage.setItem('otherIncome', otherIncome);
  localStorage.setItem('carryForward', carryForward);
}

function loadFromLocalStorage() {
  const savedExpenses = localStorage.getItem('expenses');
  const savedSalary = localStorage.getItem('salary');
  const savedOtherIncome = localStorage.getItem('otherIncome');
  const savedCarryForward = localStorage.getItem('carryForward');
  
  if (savedExpenses) expenses = JSON.parse(savedExpenses);
  if (savedSalary) {
    salary = parseFloat(savedSalary);
    document.getElementById('salary-input').value = salary;
  }
  if (savedOtherIncome) {
    otherIncome = parseFloat(savedOtherIncome);
    document.getElementById('other-income-input').value = otherIncome;
  }
  if (savedCarryForward) carryForward = parseFloat(savedCarryForward);
}

function exportData() {
  const data = {
    expenses,
    salary,
    otherIncome,
    carryForward,
    exportDate: new Date().toISOString()
  };
  
  const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = `expense-tracker-${new Date().toISOString().split('T')[0]}.json`;
  a.click();
  URL.revokeObjectURL(url);
}

function importData() {
  const input = document.createElement('input');
  input.type = 'file';
  input.accept = 'application/json';
  
  input.onchange = (e) => {
    const file = e.target.files[0];
    const reader = new FileReader();
    
    reader.onload = (event) => {
      try {
        const data = JSON.parse(event.target.result);
        expenses = data.expenses || [];
        salary = data.salary || 0;
        otherIncome = data.otherIncome || 0;
        carryForward = data.carryForward || 0;
        
        document.getElementById('salary-input').value = salary;
        document.getElementById('other-income-input').value = otherIncome;
        
        saveToLocalStorage();
        updateDisplay();
        alert('Data imported successfully!');
      } catch (error) {
        alert('Error importing data. Please check the file format.');
      }
    };
    
    reader.readAsText(file);
  };
  
  input.click();
}

function resetApp() {
  if (confirm('Are you sure you want to reset all data? This cannot be undone.')) {
    localStorage.clear();
    expenses = [];
    salary = 0;
    otherIncome = 0;
    carryForward = 0;
    document.getElementById('salary-input').value = '';
    document.getElementById('other-income-input').value = '';
    updateDisplay();
  }
}

// Initialize on load
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', init);
} else {
  init();
}
</script>

</body>
</html>
