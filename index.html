<script>
  async function init() {
    if (!window.ethereum) {
      alert("MetaMask not detected!");
      return;
    }

    const provider = new ethers.providers.Web3Provider(window.ethereum, "any");
    try {
      await provider.send("eth_requestAccounts", []);
    } catch (err) {
      console.error("User rejected connection", err);
      return;
    }

    const signer = provider.getSigner();
    const contractAddress = "0x9BF0898b74Dd8535cCae7dc5D2404d25a382758A";
    const abi = /* your ABI here */;
    const contract = new ethers.Contract(contractAddress, abi, signer);

    document.getElementById("status").innerText = "Wallet connected: " + await signer.getAddress();
    
    // Example: show raised amount
    const [raised, goal] = await contract.progress();
    document.getElementById("status").innerText += `\nRaised: ${raised / 1e6} / ${goal / 1e6} USDC`;
  }

  document.getElementById("connect").onclick = init;
</script>
